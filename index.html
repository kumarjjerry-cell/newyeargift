<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Happy New Year 2026 ‚ù§Ô∏è</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body>

<!-- BACKGROUND FLOATING DOODLES -->
<div class="floating-doodles"></div>

<!-- MUSIC -->
<audio id="bgMusic" loop>
    <source src="music.mp3" type="audio/mpeg">
</audio>

<div class="card fade-in">

    <!-- HEADER -->
    <div class="header-grid">
        <div class="header-doodle"><img src="doodle.jpeg"></div>

        <div class="header-text">
            <div class="newyear-text">Happy New Year</div>
            <div class="year-text">2026</div>
        </div>

        <div class="header-doodle"><img src="doodle.jpeg"></div>
    </div>

    <!-- PHOTO -->
    <div class="photo-box breathe-photo">
        <img src="her.png">
    </div>

    <h2>To the one who makes my world beautiful ‚ù§Ô∏è</h2>

    <p class="memory">
        From the first day we talked, you felt special to me.
    </p>

    <!-- GIFT -->
    <div class="gift-box" onclick="openGift()">
        üéÅ I have something to tell you ‚ù§Ô∏è
    </div>

    <!-- MESSAGE -->
    <p id="typewriter" class="hidden"></p>

    <!-- TAP FOR CELEBRATION -->
    <div id="celebrateBtn" class="celebrate-btn hidden" onclick="startCelebration()">
        ‚ú® Tap here ‚ú®
    </div>

    <p class="closing hidden">
        I‚Äôm really glad you‚Äôre part of my life ü§ç
    </p>

    <p class="from hidden">
        ‚Äî Jerry ‚ù§Ô∏è
    </p>

</div>

<script>
const music = document.getElementById("bgMusic");
const textEl = document.getElementById("typewriter");
const celebrateBtn = document.getElementById("celebrateBtn");
const closing = document.querySelector(".closing");
const from = document.querySelector(".from");

const text =
"I just wanted you to know how much you mean to me. " +
"Your presence makes things better, and having you around feels really nice.";

let i = 0;

/* TYPEWRITER */
function typeEffect() {
    if (i < text.length) {
        textEl.innerHTML += text.charAt(i++);
        setTimeout(typeEffect, 40);
    } else {
        setTimeout(() => celebrateBtn.classList.remove("hidden"), 600);
    }
}

/* GIFT CLICK */
function openGift() {
    music.volume = 0;
    music.play();
    fadeInMusic();

    document.querySelector(".gift-box").classList.add("opened");
    textEl.classList.remove("hidden");
    typeEffect();
}

/* MUSIC FADE IN */
function fadeInMusic() {
    let v = 0;
    const fade = setInterval(() => {
        if (v < 1) {
            v += 0.05;
            music.volume = v;
        } else clearInterval(fade);
    }, 100);
}

/* üöÄ EXTREME DOODLE CELEBRATION */
function startCelebration() {
    celebrateBtn.classList.add("hidden");

    // WAVE 1 ‚Äì BIG BURST
    for (let i = 0; i < 120; i++) {
        createCelebrationDoodle(0);
    }

    // WAVE 2 ‚Äì FOLLOW-UP FLOW
    setTimeout(() => {
        for (let i = 0; i < 60; i++) {
            createCelebrationDoodle(300);
        }
    }, 400);

    setTimeout(() => closing.classList.remove("hidden"), 1600);
    setTimeout(() => from.classList.remove("hidden"), 2200);
}

function createCelebrationDoodle(delay) {
    const d = document.createElement("img");
    d.src = "doodle.jpeg";
    d.className = "celebrate-doodle";

    d.style.left = Math.random() * 110 - 5 + "vw"; // wider spread
    d.style.top = "105vh";
    d.style.width = 16 + Math.random() * 34 + "px";
    d.style.animationDuration = 4 + Math.random() * 4 + "s";
    d.style.animationDelay = delay / 1000 + Math.random() * 0.5 + "s";

    document.body.appendChild(d);
    setTimeout(() => d.remove(), 10000);
}

/* BACKGROUND FLOATING DOODLES (calm layer) */
const bgBox = document.querySelector(".floating-doodles");
for (let i = 0; i < 24; i++) {
    const d = document.createElement("img");
    d.src = "doodle.jpeg";
    d.style.left = Math.random() * 100 + "vw";
    d.style.width = 22 + Math.random() * 18 + "px";
    d.style.animationDuration = 14 + Math.random() * 14 + "s";
    d.style.animationDelay = Math.random() * 10 + "s";
    bgBox.appendChild(d);
}
</script>

</body>
</html>
